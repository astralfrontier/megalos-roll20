include bulma_form

- var roll_syntax = "d20>?{Difficulty|15}"
- var skill_roll_syntax = `/roll @{skillrank}${roll_syntax}`
- var default_roll_syntax = `/roll 1${roll_syntax}`

mixin skillname(attr)
  .field
    .control
      input.input.is-expanded(type="text" name=attr placeholder="Skill name" list="skillnames")&attributes(attributes)

mixin skillrank(attr)
  .field.has-addons
    .control
      input.input.boxed-value(type="number" name=attr placeholder="Skill rank" min="1" max="5")&attributes(attributes)
    .control
      if block
        block

fieldset.repeating_skills
  .columns
    .column.is-three-quarters
      +skillname("attr_skillname")
    .column.is-one-quarter
      +skillrank("attr_skillrank")
        button.button(type="roll" value=skill_roll_syntax name="roll_rank")
        
.columns
  .column.is-three-quarters
    +skillname("default_skillname")(value="All Others" disabled=true)
  .column.is-one-quarter
    +skillrank("default_skillrank")(value="1" disabled=true)
      button.button(class="button" type="roll" value=default_roll_syntax name="roll_rank")